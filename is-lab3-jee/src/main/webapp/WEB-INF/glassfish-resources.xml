<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE resources PUBLIC
  "-//GlassFish.org//DTD GlassFish Application Server 3.1 Resource Definitions//EN"
  "http://glassfish.org/dtds/glassfish-resources_1_5.dtd">
<resources>
    <jdbc-connection-pool
            name="PostgresDruidPool"
            res-type="javax.sql.DataSource"
            datasource-classname="me.zinch.is.islab3.server.datasource.GlassfishDruidDataSource"
            steady-pool-size="1"
            max-pool-size="30"
            pool-resize-quantity="2"
            idle-timeout-in-seconds="300"
            connection-validation-method="auto-commit"
            is-connection-validation-required="true"
            fail-all-connections="false"
            non-transactional-connections="true"
            allow-non-component-callers="true">
        <property name="url" value="jdbc:postgresql://localhost:5432/is_lab3?stringtype=unspecified&amp;connectTimeout=1&amp;socketTimeout=2&amp;tcpKeepAlive=true"/>
        <property name="user" value="postgres"/>
        <property name="password" value="0f9640a4311481256172499ae1f01f6ba23c246166f68c1baf9d14c4a65ce5bc"/>
        <property name="driverClassName" value="org.postgresql.Driver"/>
        <property name="initialSize" value="1"/>
        <property name="minIdle" value="1"/>
        <property name="maxActive" value="30"/>
        <property name="maxWait" value="1000"/>
        <property name="loginTimeout" value="1"/>
        <property name="validationQuery" value="SELECT 1"/>
        <property name="validationQueryTimeout" value="1"/>
        <property name="testWhileIdle" value="true"/>
        <property name="testOnBorrow" value="true"/>
        <property name="testOnReturn" value="false"/>
        <property name="timeBetweenEvictionRunsMillis" value="10000"/>
        <property name="minEvictableIdleTimeMillis" value="300000"/>
        <property name="keepAlive" value="true"/>
        <property name="failFast" value="false"/>
        <property name="breakAfterAcquireFailure" value="false"/>
        <property name="connectionErrorRetryAttempts" value="100000000"/>
        <property name="timeBetweenConnectErrorMillis" value="5000"/>
    </jdbc-connection-pool>

    <jdbc-resource
            jndi-name="java:app/jdbc/postgres"
            pool-name="PostgresDruidPool"
            enabled="true"/>
</resources>
